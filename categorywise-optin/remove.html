<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Page with All-Access Pass</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 600px;
            margin: auto;
        }

        .form-group {
            position: relative;
            margin-bottom: 30px;
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        select {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
            transition: all 0.2s ease-in-out;
        }


        .custom-label-form label {
    font-size: 16px;
    color: #999;
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    transition: all 0.2s ease-in-out;
    pointer-events: none;
}



input:focus + label,
        input:not(:placeholder-shown) + label {
            top: -12px;
            font-size: 12px;
            color: #007bff;
        }

        /* Optional: Adding a subtle focus effect on the input */
        input:focus {
            border-color: #007bff;
        }



        .bump {
            display: flex;
            align-items: flex-start;
            margin: 12px 0;
        }

        .bump input[type="checkbox"] {
            margin-right: 10px;
        }

        .bump-content {
            display: flex;
            flex-direction: column;
        }

        .bump label {
            font-size: 16px;
            font-weight: bold;
        }

        .bump-info {
            font-size: 14px;
            color: #555;
        }

        .order-btn {
            display: block;
            margin-top: 20px;
            padding: 12px 24px;
            background-color: #007bff;
            color: white;
            text-align: center;
            text-decoration: none;
            border-radius: 5px;
            font-size: 18px;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

        .order-btn:hover {
            background-color: #0056b3;
        }

        .error-border {
            border-color: red !important;
        }

        .error-message {
            color: red;
            font-size: 12px;
            margin-top: -10px;
            margin-bottom: 10px;
        }

        /* Soft Blue Highlight for All-Access Pass bump */
        #allAccessPass+.bump-content {
            background-color: #e3f2fd;
            /* Light blue background */
            border: 2px solid #1976d2;
            /* Blue border */
            padding: 12px;
            border-radius: 5px;
        }

        #allAccessPass+.bump-content label {
            color: #1976d2;
            /* Blue text */
            font-weight: bold;
        }

        #allAccessPass+.bump-content p {
            color: #1976d2;
            /* Blue description text */
        }
    </style>
</head>

<body>
    <h1 align="center">Enter Your Details</h1>
    <form id="orderForm" novalidate>
        <div class="form-group">
            <div class="custom-label-form">
            
            <div class="input-group">
            <input type="text" id="firstName" name="firstName" placeholder=" " required>
            <label for="name">Your Name</label>
        </div>
        </div>
        </div>
        <div class="form-group">
            <label for="email">Email <span style="font-size: 12px; color: gray;">(Product will be delivered to this
                    email)</span></label>
            <input type="email" id="email" name="email" placeholder="Enter your email" required>
            <span class="error-message" id="emailError"></span>
        </div>
        <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" id="phone" name="phone" placeholder="Enter 10-digit phone number" required>
            <span class="error-message" id="phoneError"></span>
        </div>

        <p>Would you like to include any of the following in your order?</p>
        <div class="bump">
            <input type="checkbox" id="bump1" data-price="500">
            <div class="bump-content">
                <label for="bump1">Add Order Bump 1 (+₹500)</label>
                <p class="bump-info">Description for Bump 1.</p>
            </div>
        </div>
        <div class="bump">
            <input type="checkbox" id="bump2" data-price="1000">
            <div class="bump-content">
                <label for="bump2">Add Order Bump 2 (+₹1000)</label>
                <p class="bump-info">Description for Bump 2.</p>
            </div>
        </div>

        <!-- Add Bump 3 in the HTML -->
        <div class="bump">
            <input type="checkbox" id="bump3" data-price="1500">
            <div class="bump-content">
                <label for="bump3">Add Order Bump 3 (+₹1500)</label>
                <p class="bump-info">Description for Bump 3. Learn more about this additional option.</p>
                <!--    <a href="https://example.com/bump3" target="_blank" class="info-link">More details</a> -->
            </div>
        </div>


        <div class="bump">
            <input type="checkbox" id="allAccessPass" data-price="5000">
            <div class="bump-content">
                <label for="allAccessPass">HCG All-Access Pass (₹5000 - Recommended)</label>
                <p class="bump-info">Get all my 23+ House construction guides + all future guides for a one-time fee.
                </p>
            </div>
        </div>

        <a id="orderNowBtn" class="order-btn">Order Now (₹100)</a>
    </form>


    <script>
        const form = document.getElementById('orderForm');
        const emailInput = document.getElementById('email');
        const phoneInput = document.getElementById('phone');
        const emailError = document.getElementById('emailError');
        const phoneError = document.getElementById('phoneError');

        const bumps = document.querySelectorAll('input[type="checkbox"]:not(#allAccessPass)');
        const allAccessPass = document.getElementById('allAccessPass');
        const orderNowBtn = document.getElementById('orderNowBtn');
        const basePrice = 100;

        let emailTouched = false;
        let phoneTouched = false;

        const combinations = {
            "allAccessPass": "https://example.com/all-access",
            "bump1": "https://example.com/bump1",
            "bump2": "https://example.com/bump2",
            "bump3": "https://example.com/bump3",
            "bump1-bump2": "https://example.com/bump1-bump2",
            "bump1-bump3": "https://example.com/bump1-bump3",
            "bump2-bump3": "https://example.com/bump2-bump3",
            "bump1-bump2-bump3": "https://example.com/bump1-bump2-bump3",
            "baseOrder": "https://example.com/baseOrder",
        };

        // Helper function: Adds "&" to the URL if not already present
        function addAmpersandToUrl(url) {
            return url.endsWith('&') ? url : `${url}&`;
        }

        // Helper function: Validate email format
        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // Helper function: Validate phone format
        function validatePhone(phone) {
            const phoneRegex = /^\d{10}$/;
            return phoneRegex.test(phone);
        }

        // Function to get form data
        function getFormData() {
            const firstName = document.getElementById('firstName').value.trim();
            const email = emailInput.value.trim();
            const phone = phoneInput.value.trim();
            return { firstName, email, phone };
        }

        // Function to validate input fields
        function validateInputs() {
            let isValid = true;

            // Email validation
            if (emailTouched && !validateEmail(emailInput.value)) {
                emailInput.classList.add('error-border');
                emailError.textContent = 'Please enter a valid email address.';
                isValid = false;
            } else if (emailTouched) {
                emailInput.classList.remove('error-border');
                emailError.textContent = '';
            }

            // Phone validation
            if (phoneTouched && !validatePhone(phoneInput.value)) {
                phoneInput.classList.add('error-border');
                phoneError.textContent = 'Please enter a valid 10-digit phone number.';
                isValid = false;
            } else if (phoneTouched) {
                phoneInput.classList.remove('error-border');
                phoneError.textContent = '';
            }

            return isValid;
        }

        // Function to update order details
        function updateOrderDetails() {
            let totalPrice = basePrice;
            const formData = getFormData();
            const selectedBumps = Array.from(bumps).filter(bump => bump.checked);

            if (allAccessPass.checked) {
                // If All-Access Pass is selected
                totalPrice = parseInt(allAccessPass.dataset.price);
                bumps.forEach(bump => {
                    bump.checked = true; // Check all bumps
                    bump.disabled = true; // Disable individual bumps
                });
                const url = addAmpersandToUrl(combinations["allAccessPass"]);
                orderNowBtn.href = `${url}?${new URLSearchParams(formData).toString()}`;
                orderNowBtn.textContent = `Buy HCG All-Access Pass (₹${totalPrice})`;
                return;
            }

            // If All-Access Pass is not selected
            bumps.forEach(bump => bump.disabled = false); // Enable individual bumps
            selectedBumps.forEach(bump => totalPrice += parseInt(bump.dataset.price));

            const selectedKeys = selectedBumps.map(bump => bump.id).sort().join("-");
            const url = addAmpersandToUrl(combinations[selectedKeys] || combinations["baseOrder"]);
            orderNowBtn.textContent = `Order Now (₹${totalPrice})`;
            orderNowBtn.href = `${url}?${new URLSearchParams(formData).toString()}`;
        }

        // Add touch tracking for email
        emailInput.addEventListener('blur', () => {
            emailTouched = true;
            validateInputs();
        });

        // Add touch tracking for phone
        phoneInput.addEventListener('blur', () => {
            phoneTouched = true;
            validateInputs();
        });

        // Event listener: Validate inputs on form input
        form.addEventListener('input', () => {
            validateInputs();
            updateOrderDetails();
        });

        // Event listener: When All-Access Pass is unchecked, uncheck all bumps
        allAccessPass.addEventListener('change', () => {
            if (!allAccessPass.checked) {
                bumps.forEach(bump => {
                    bump.checked = false;
                });
            }
            updateOrderDetails();
        });

        // Event listeners for changes in other bumps
        bumps.forEach(bump => bump.addEventListener('change', updateOrderDetails));

        // Event listener: Validate on form submission
        form.addEventListener('submit', (e) => {
            if (!validateInputs()) {
                e.preventDefault();
                alert('Please correct the highlighted fields before submitting.');
            }
        });

        // Initial setup on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateOrderDetails();
        });
    </script>








</body>

</html>